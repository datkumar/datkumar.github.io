---
title: Threadit
description: A social media web-app centred around communities. Discover, join, and post into communites sharing your interests, ideas, and experiences
code_url: https://github.com/datkumar/threadit
demo_url: https://threadit-eight.vercel.app/
tech_stack: [nextjs, ts, tailwind, prisma, supabase, nextAuth, reactQuery]
---

## Actions

A user that is **NOT logged-in** can only:

- Search communities
- See a general feed of popular posts
- View a post and it's comments

However, a user that is **logged-in** can:

- Do all actions of non-logged-in users
- Create, join and leave communities
- Get a personalized feed containing posts from communities they have joined
- Write a community post
- Add comments on posts and even reply to comments
- Upvote or Downvote on posts and comments
- Change their own username

## Tech breakdown:

- The web-app is built using [Next.js](https://nextjs.org/), a modern full-stack framework with a focus on server-side rendering (**SSR**). I've utilised their newly introduced **`app/`** router
- For **styling**, I've used [TailwindCSS](https://tailwindcss.com/) for their set of utility classes providing scoped styles to components. Also, I've used [shadcn/ui](https://ui.shadcn.com/) components (such as Toasts, Buttons etc.) for their polished and modular experience with great accessibilty features baked-in
- The **database** used is [PostgreSQL](https://www.postgresql.org/about/) (a robust open-source object-relational database) hosted on [Supabase](https://supabase.com/). To interface the app with the database, the [Prisma](https://www.prisma.io/) ORM is used, known for their seamless developer experience
- For authentication, i've used [NextAuth](https://next-auth.js.org/) along with [Google OAuth 2.0](https://cloud.google.com/apigee/docs/api-platform/security/oauth/oauth-introduction) client as the provider. The login/signup modal makes use of the newly introduced [Parallel](https://nextjs.org/docs/app/building-your-application/routing/parallel-routes) and [Intercepting](https://nextjs.org/docs/app/building-your-application/routing/intercepting-routes) routes in Next.js
- The [Zod](https://zod.dev/) library is quite powerful when used with Typescript for defining and validating the schemas of data payload on frontend as well as backend
- The [React Query](https://tanstack.com/query/latest) library provides streamlined meachanisms for handling data fetching and mutations, handling many edge-cases. Some notable examples are `useInfiniteQuery` hook (used to implement **infinite-scroll** feature in the Feed section) and **optimistic updates** (showing instant UI changes of upvote/downvote on client while they are being registered on server) . Also, React [Suspense](https://react.dev/reference/react/Suspense) allows for the fetched content to be dynamically streamed-in as it loads while showing a **UI skeleton** in the meantime
- The markdown-like editor for users to write a post contaning multiple types of content and formatting (headings, lists, tables, code, links, images etc.) is made using [Editor.js](https://editorjs.io/) as it converts the content that is written into a clean JSON output that can be handled in request-response flow. Also, I'm using the [UploadThing](https://v6.docs.uploadthing.com/) service to handle image uploads
- The highly upvoted (more than a certain value) posts are cached on [Upstash](https://upstash.com/) Redis in-memory database

## Schema Diagram:

<img src="/threadit-schema.png" alt="Threadit Schema Diagram">

_Generated from Prisma schema using [Prismaliser](https://prismaliser.app/). Visit <a target="_blank" href="https://prismaliser.app/?code=Ly8gUHJpc21hIFNjaGVtYSBkb2NzOiBodHRwczovL3d3dy5wcmlzbWEuaW8vZG9jcy9vcm0vcHJpc21hLXNjaGVtYQoKZ2VuZXJhdG9yIGNsaWVudCB7CiAgcHJvdmlkZXIgPSAicHJpc21hLWNsaWVudC1qcyIKfQoKZGF0YXNvdXJjZSBkYiB7CiAgcHJvdmlkZXIgID0gInBvc3RncmVzcWwiCiAgdXJsICAgICAgID0gZW52KCJEQVRBQkFTRV9VUkwiKQogIGRpcmVjdFVybCA9IGVudigiRElSRUNUX1VSTCIpCn0KCmVudW0gVm90ZVR5cGUgewogIFVQCiAgRE9XTgp9Cgptb2RlbCBQb3N0IHsKICBpZCAgICAgICAgICBTdHJpbmcgICAgIEBpZCBAZGVmYXVsdChjdWlkKCkpCiAgdGl0bGUgICAgICAgU3RyaW5nCiAgY29udGVudCAgICAgSnNvbj8KICAvLyAKICBhdXRob3IgICAgICBVc2VyICAgICAgIEByZWxhdGlvbihmaWVsZHM6IFthdXRob3JJZF0sIHJlZmVyZW5jZXM6IFtpZF0pCiAgY29tbXVuaXR5ICAgQ29tbXVuaXR5ICBAcmVsYXRpb24oZmllbGRzOiBbY29tbXVuaXR5SWRdLCByZWZlcmVuY2VzOiBbaWRdKQogIGF1dGhvcklkICAgIFN0cmluZwogIGNvbW11bml0eUlkIFN0cmluZwogIC8vIAogIHZvdGVzICAgICAgIFBvc3RWb3RlW10KICBjb21tZW50cyAgICBDb21tZW50W10KICAvLyAKICBjcmVhdGVkQXQgICBEYXRlVGltZSAgIEBkZWZhdWx0KG5vdygpKQogIHVwZGF0ZWRBdCAgIERhdGVUaW1lICAgQHVwZGF0ZWRBdAp9Cgptb2RlbCBDb21tZW50IHsKICBpZCAgICAgICAgU3RyaW5nICAgICAgICBAaWQgQGRlZmF1bHQoY3VpZCgpKQogIHRleHQgICAgICBTdHJpbmcKICAvLyAKICBhdXRob3IgICAgVXNlciAgICAgICAgICBAcmVsYXRpb24oZmllbGRzOiBbYXV0aG9ySWRdLCByZWZlcmVuY2VzOiBbaWRdKQogIHBvc3QgICAgICBQb3N0ICAgICAgICAgIEByZWxhdGlvbihmaWVsZHM6IFtwb3N0SWRdLCByZWZlcmVuY2VzOiBbaWRdLCBvbkRlbGV0ZTogQ2FzY2FkZSkKICB2b3RlcyAgICAgQ29tbWVudFZvdGVbXQogIGF1dGhvcklkICBTdHJpbmcKICBwb3N0SWQgICAgU3RyaW5nCiAgLy8gV2hlbiB0aGUgY29tbWVudCBpcyBhIHJlcGx5IHRvIGFub3RoZXIgY29tbWVudAogIHJlcGx5VG9JZCBTdHJpbmc_CiAgcmVwbHlUbyAgIENvbW1lbnQ_ICAgICAgQHJlbGF0aW9uKCJSZXBseVRvIiwgZmllbGRzOiBbcmVwbHlUb0lkXSwgcmVmZXJlbmNlczogW2lkXSwgb25EZWxldGU6IE5vQWN0aW9uLCBvblVwZGF0ZTogTm9BY3Rpb24pCiAgcmVwbGllcyAgIENvbW1lbnRbXSAgICAgQHJlbGF0aW9uKCJSZXBseVRvIikKICAvLyAKICBjcmVhdGVkQXQgRGF0ZVRpbWUgICAgICBAZGVmYXVsdChub3coKSkKfQoKbW9kZWwgUG9zdFZvdGUgewogIHR5cGUgICBWb3RlVHlwZQogIC8vIAogIHVzZXIgICBVc2VyICAgICBAcmVsYXRpb24oZmllbGRzOiBbdXNlcklkXSwgcmVmZXJlbmNlczogW2lkXSkKICBwb3N0ICAgUG9zdCAgICAgQHJlbGF0aW9uKGZpZWxkczogW3Bvc3RJZF0sIHJlZmVyZW5jZXM6IFtpZF0sIG9uRGVsZXRlOiBDYXNjYWRlKQogIHVzZXJJZCBTdHJpbmcKICBwb3N0SWQgU3RyaW5nCgogIEBAaWQoW3VzZXJJZCwgcG9zdElkXSkKfQoKbW9kZWwgQ29tbWVudFZvdGUgewogIHR5cGUgICAgICBWb3RlVHlwZQogIC8vIAogIHVzZXIgICAgICBVc2VyICAgICBAcmVsYXRpb24oZmllbGRzOiBbdXNlcklkXSwgcmVmZXJlbmNlczogW2lkXSkKICBjb21tZW50ICAgQ29tbWVudCAgQHJlbGF0aW9uKGZpZWxkczogW2NvbW1lbnRJZF0sIHJlZmVyZW5jZXM6IFtpZF0sIG9uRGVsZXRlOiBDYXNjYWRlKQogIHVzZXJJZCAgICBTdHJpbmcKICBjb21tZW50SWQgU3RyaW5nCgogIEBAaWQoW3VzZXJJZCwgY29tbWVudElkXSkKfQoKbW9kZWwgQ29tbXVuaXR5IHsKICBpZCAgICAgICAgICAgIFN0cmluZyAgICAgICAgIEBpZCBAZGVmYXVsdChjdWlkKCkpCiAgbmFtZSAgICAgICAgICBTdHJpbmcgICAgICAgICBAdW5pcXVlCiAgLy8gQ29tbXVuaXR5IGNhbiBleGlzdCB3aXRob3V0IGNyZWF0b3IgKHdoZW4gdGhlIGNyZWF0b3IgVXNlciBpcyBkZWxldGVkKQogIGNyZWF0b3IgICAgICAgVXNlciAgICAgICAgICAgQHJlbGF0aW9uKCJDcmVhdGVkQnkiLCBmaWVsZHM6IFtjcmVhdG9ySWRdLCByZWZlcmVuY2VzOiBbaWRdKQogIGNyZWF0b3JJZCAgICAgU3RyaW5nCiAgLy8gCiAgcG9zdHMgICAgICAgICBQb3N0W10KICBzdWJzY3JpcHRpb25zIFN1YnNjcmlwdGlvbltdCiAgLy8gCiAgY3JlYXRlZEF0ICAgICBEYXRlVGltZSAgICAgICBAZGVmYXVsdChub3coKSkKICB1cGRhdGVkQXQgICAgIERhdGVUaW1lICAgICAgIEB1cGRhdGVkQXQKCiAgQEBpbmRleChbbmFtZV0pCn0KCm1vZGVsIFN1YnNjcmlwdGlvbiB7CiAgdXNlciAgICAgICAgVXNlciAgICAgIEByZWxhdGlvbihmaWVsZHM6IFt1c2VySWRdLCByZWZlcmVuY2VzOiBbaWRdKQogIGNvbW11bml0eSAgIENvbW11bml0eSBAcmVsYXRpb24oZmllbGRzOiBbY29tbXVuaXR5SWRdLCByZWZlcmVuY2VzOiBbaWRdKQogIHVzZXJJZCAgICAgIFN0cmluZwogIGNvbW11bml0eUlkIFN0cmluZwoKICBAQGlkKFt1c2VySWQsIGNvbW11bml0eUlkXSkKfQoKbW9kZWwgVXNlciB7CiAgaWQgICAgICAgICAgICAgICAgIFN0cmluZyAgICAgICAgIEBpZCBAZGVmYXVsdChjdWlkKCkpCiAgdXNlcm5hbWUgICAgICAgICAgIFN0cmluZz8gICAgICAgIEB1bmlxdWUKICBuYW1lICAgICAgICAgICAgICAgU3RyaW5nPwogIGVtYWlsICAgICAgICAgICAgICBTdHJpbmc_ICAgICAgICBAdW5pcXVlCiAgZW1haWxWZXJpZmllZCAgICAgIERhdGVUaW1lPwogIGltYWdlICAgICAgICAgICAgICBTdHJpbmc_CiAgLy8gCiAgcG9zdHMgICAgICAgICAgICAgIFBvc3RbXQogIHBvc3RWb3RlcyAgICAgICAgICBQb3N0Vm90ZVtdCiAgY29tbWVudHMgICAgICAgICAgIENvbW1lbnRbXQogIGNvbW1lbnRWb3RlcyAgICAgICBDb21tZW50Vm90ZVtdCiAgc3Vic2NyaXB0aW9ucyAgICAgIFN1YnNjcmlwdGlvbltdCiAgY3JlYXRlZENvbW11bml0aWVzIENvbW11bml0eVtdICAgIEByZWxhdGlvbigiQ3JlYXRlZEJ5IikKICAvLyAKICBhY2NvdW50cyAgICAgICAgICAgQWNjb3VudFtdCiAgc2Vzc2lvbnMgICAgICAgICAgIFNlc3Npb25bXQp9Cgptb2RlbCBBY2NvdW50IHsKICBpZCAgICAgICAgICAgICAgICBTdHJpbmcgIEBpZCBAZGVmYXVsdChjdWlkKCkpCiAgdXNlcklkICAgICAgICAgICAgU3RyaW5nCiAgdHlwZSAgICAgICAgICAgICAgU3RyaW5nCiAgcHJvdmlkZXIgICAgICAgICAgU3RyaW5nCiAgcHJvdmlkZXJBY2NvdW50SWQgU3RyaW5nCiAgcmVmcmVzaF90b2tlbiAgICAgU3RyaW5nPyBAZGIuVGV4dAogIGFjY2Vzc190b2tlbiAgICAgIFN0cmluZz8gQGRiLlRleHQKICBleHBpcmVzX2F0ICAgICAgICBJbnQ_CiAgdG9rZW5fdHlwZSAgICAgICAgU3RyaW5nPwogIHNjb3BlICAgICAgICAgICAgIFN0cmluZz8KICBpZF90b2tlbiAgICAgICAgICBTdHJpbmc_IEBkYi5UZXh0CiAgc2Vzc2lvbl9zdGF0ZSAgICAgU3RyaW5nPwoKICB1c2VyIFVzZXIgQHJlbGF0aW9uKGZpZWxkczogW3VzZXJJZF0sIHJlZmVyZW5jZXM6IFtpZF0sIG9uRGVsZXRlOiBDYXNjYWRlKQoKICBAQHVuaXF1ZShbcHJvdmlkZXIsIHByb3ZpZGVyQWNjb3VudElkXSkKfQoKbW9kZWwgU2Vzc2lvbiB7CiAgaWQgICAgICAgICAgIFN0cmluZyAgIEBpZCBAZGVmYXVsdChjdWlkKCkpCiAgc2Vzc2lvblRva2VuIFN0cmluZyAgIEB1bmlxdWUKICB1c2VySWQgICAgICAgU3RyaW5nCiAgZXhwaXJlcyAgICAgIERhdGVUaW1lCiAgdXNlciAgICAgICAgIFVzZXIgICAgIEByZWxhdGlvbihmaWVsZHM6IFt1c2VySWRdLCByZWZlcmVuY2VzOiBbaWRdLCBvbkRlbGV0ZTogQ2FzY2FkZSkKfQoKbW9kZWwgVmVyaWZpY2F0aW9uVG9rZW4gewogIGlkZW50aWZpZXIgU3RyaW5nCiAgdG9rZW4gICAgICBTdHJpbmcgICBAdW5pcXVlCiAgZXhwaXJlcyAgICBEYXRlVGltZQoKICBAQHVuaXF1ZShbaWRlbnRpZmllciwgdG9rZW5dKQp9">here</a> to view it in better quality_
